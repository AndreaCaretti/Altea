@customera-subdomain = ccp-customera
@provider-subdomain = ccp-provider-dev-qas
@space = dev
@cap-service-url = mtt-cap-services

@token = {{getToken.response.body.$.access_token}}

### Get bearer token
# @name getToken
GET https://{{customera-subdomain}}.authentication.eu10.hana.ondemand.com/oauth/token?grant_type=client_credentials&response_type=token HTTP/1.1
Authorization: Basic sb-dev-cloud-cold-chain!t61773 I4pSt9LZ2ar5djKL7lB518ZWV6s=

### Get HandlingUnitsRawMovements
GET https://{{provider-subdomain}}-{{space}}-{{cap-service-url}}.cfapps.eu10.hana.ondemand.com/handling-unit-moved/HandlingUnitsRawMovements HTTP/1.1
Authorization: Bearer {{token}}




## Promemoria per autenticazione con grant_type code, funziona solo da browser a causa di redirect e javascript che viene eseguito sulla pagina

# ## Il recupero del code funziona solo da browser quindi lanciare questa chiamata dal browser e copiare il code che appare nell'url:
# GET https://ccp-customera.authentication.eu10.hana.ondemand.com/oauth/authorize?response_type=code&client_id=sb-dev-cloud-cold-chain!t61773 HTTP/1.1

# ## Copiare il code e metterlo in fondo, anche questa chiamata funziona solo da browser perch√® gli servono i cookie di sessione
# GET https://ccp-customera.authentication.eu10.hana.ondemand.com/oauth/token?grant_type=authorization_code&code=XXXXXXXX HTTP/1.1

### Create ControlPoint
POST https://{{provider-subdomain}}-{{space}}-{{cap-service-url}}.cfapps.eu10.hana.ondemand.com/handling-unit-moved/ControlPoints  HTTP/1.1
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "ID": "90abe75c-e2c6-4e5f-a12f-fb81aa50d011"
}


### Create HandlingUnits (SSCC)
POST https://{{provider-subdomain}}-{{space}}-{{cap-service-url}}.cfapps.eu10.hana.ondemand.com/handling-unit-moved/HandlingUnits  HTTP/1.1
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "ID": "TEST123"
}
